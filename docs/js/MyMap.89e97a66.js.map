{"version":3,"file":"js/MyMap.89e97a66.js","mappings":"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","sources":["webpack://myresume/./src/views/MyMap/index.vue","webpack://myresume/./src/views/MyMap/components/baiduMap.vue","webpack://myresume/./src/views/MyMap/components/baiduMap.vue?6789","webpack://myresume/./src/views/MyMap/components/gaodeMap.vue","webpack://myresume/./src/views/MyMap/components/gaodeMap.vue?58d4","webpack://myresume/./src/views/MyMap/index.vue?d0de"],"sourcesContent":["<template>\r\n  <div class=\"btn-group\">\r\n    <el-button-group>\r\n      <el-button @click=\"goHome\">\r\n        <el-icon><ArrowLeft /></el-icon> 返回首页\r\n      </el-button>\r\n      <el-button @click=\"changeMap\" :disabled=\"isDisabled\">\r\n        <el-icon><MapLocation /></el-icon>&nbsp; 点我切换{{\r\n          currentName == \"MyBaiduMap\"\r\n            ? \"高德地图\"\r\n            : \"百度地图\"\r\n        }}\r\n      </el-button>\r\n    </el-button-group>\r\n  </div>\r\n  <div class=\"myMap shadow-box\">\r\n    <component :is=\"currentName\"></component>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MyBaiduMap from \"./components/baiduMap.vue\";\r\nimport MyGaodeMap from \"./components/gaodeMap.vue\";\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"myMap\",\r\n  components: {\r\n    MyBaiduMap,\r\n    MyGaodeMap,\r\n  },\r\n  setup() {\r\n    let router = useRouter();\r\n    let currentName = ref(\"MyGaodeMap\");\r\n    let isDisabled = ref(false);\r\n\r\n    function changeMap() {\r\n      isDisabled.value = true;\r\n      currentName.value =\r\n        currentName.value === \"MyBaiduMap\"\r\n          ? \"MyGaodeMap\"\r\n          : \"MyBaiduMap\";\r\n      setTimeout(() => {\r\n        isDisabled.value = false;\r\n      }, 3000);\r\n    }\r\n\r\n    function goHome() {\r\n      router.push(\"/\");\r\n    }\r\n\r\n    return {\r\n      currentName,\r\n      isDisabled,\r\n      changeMap,\r\n      goHome,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.btn-group {\r\n  margin: 20px auto;\r\n  text-align: center;\r\n}\r\n.myMap {\r\n  width: 80%;\r\n  height: 80%;\r\n  z-index: 2;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"baiduMap\">\r\n    <div id=\"baiduContainer\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, onUnmounted } from \"vue\";\r\nexport default {\r\n  name: \"MyBaiduMap\",\r\n  setup() {\r\n    let map = ref(null);\r\n    let point = sessionStorage.getItem(\"point\")\r\n      ? JSON.parse(sessionStorage.getItem(\"point\"))\r\n      : {\r\n          lng: 116.404,\r\n          lat: 39.915,\r\n        };\r\n\r\n    function getCurrentPosition(isSDK) {\r\n      let geolocation = new BMapGL.Geolocation();\r\n\r\n      if (isSDK) {\r\n        geolocation.enableSDKLocation();\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        geolocation.getCurrentPosition(r => {\r\n          if (\r\n            geolocation.getStatus() == BMAP_STATUS_SUCCESS\r\n          ) {\r\n            resolve(r);\r\n          } else {\r\n            reject(new Error(\"定位失败\"));\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    // 获取定位信息\r\n    async function getLocationPoint() {\r\n      await getCurrentPosition()\r\n        .then(r => {\r\n          console.log(\"浏览器直接获取定位成功\", r);\r\n          point = r.point;\r\n          return;\r\n        })\r\n        .catch(error => {\r\n          console.log(\r\n            \"浏览器直接获取定位错误,开始尝试SDK辅助定位\",\r\n          );\r\n          getCurrentPosition(true)\r\n            .then(r => {\r\n              console.log(\"SDK辅助定位成功\", r);\r\n              point = r.point;\r\n            })\r\n            .catch(error => {\r\n              console.log(\"SDK辅助定位失败,使用默认位置\");\r\n            });\r\n        });\r\n      sessionStorage.setItem(\r\n        \"point\",\r\n        JSON.stringify(point),\r\n      );\r\n    }\r\n\r\n    // 添加地图控件\r\n    async function addMapControl() {\r\n      if (map.value.isSupportEarth()) {\r\n        map.value.setMapType(BMAP_EARTH_MAP); // 设置地图类型为卫星图\r\n      }\r\n      map.value.enableScrollWheelZoom(); // 启用滚轮放大缩小，默认禁用\r\n      map.value.enableKeyboard(); // 启用键盘操作，默认禁用\r\n      map.value.setCopyrightOffset({ top: 0 }); // 设置版权控件位置\r\n\r\n      var scaleCtrl = new BMapGL.ScaleControl(); // 添加比例尺控件\r\n      map.value.addControl(scaleCtrl);\r\n      var zoomCtrl = new BMapGL.ZoomControl(); // 添加缩放控件\r\n      map.value.addControl(zoomCtrl);\r\n    }\r\n\r\n    onMounted(async () => {\r\n      // 创建默认地图,定位默认位置\r\n      map.value = new BMapGL.Map(\"baiduContainer\", {\r\n        enableAutoResize: true,\r\n      });\r\n      await map.value.centerAndZoom(point, 15);\r\n      // 地图控件\r\n      await addMapControl();\r\n\r\n      map.value.addEventListener(\r\n        \"mouseover\",\r\n        ({ type, target }) => {\r\n          console.log(type, target);\r\n        },\r\n      );\r\n\r\n      // 获取定位信息\r\n      await getLocationPoint();\r\n      // 添加标注\r\n      let mk = new BMapGL.Marker(point);\r\n      await map.value.addOverlay(mk);\r\n      // 移动当前位置\r\n      await map.value.panTo(point);\r\n    });\r\n    onUnmounted(() => {\r\n      map.value.destroy();\r\n      map.value = null;\r\n    });\r\n    return {\r\n      map,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.baiduMap,\r\n#baiduContainer {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./baiduMap.vue?vue&type=template&id=0ed98d64&scoped=true\"\nimport script from \"./baiduMap.vue?vue&type=script&lang=js\"\nexport * from \"./baiduMap.vue?vue&type=script&lang=js\"\n\nimport \"./baiduMap.vue?vue&type=style&index=0&id=0ed98d64&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\91356\\\\Desktop\\\\学习\\\\Li-MLong.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0ed98d64\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"gaodeMap\">\r\n    <div id=\"gaodeContainer\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, onUnmounted } from \"vue\";\r\nexport default {\r\n  name: \"MyGaodeMap\",\r\n  setup() {\r\n    let map = ref(null);\r\n\r\n    function getLocation() {\r\n      AMap.plugin(\"AMap.Geolocation\", function () {\r\n        let geolocation = new AMap.Geolocation({\r\n          enableHighAccuracy: true, // 是否使用高精度定位，默认：true\r\n          timeout: 10000, // 设置定位超时时间，默认：无穷大\r\n          zoomToAccuracy: true, //  定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false\r\n          position: \"RB\", //  定位按钮的排放位置,  RB表示右下\r\n        });\r\n\r\n        geolocation.getCurrentPosition(function (\r\n          status,\r\n          result,\r\n        ) {\r\n          if (status == \"complete\") {\r\n            onComplete(result);\r\n          } else {\r\n            onError(result);\r\n          }\r\n        });\r\n\r\n        function onComplete(data) {\r\n          // data是具体的定位信息\r\n          console.log(\"定位成功位置:\", data);\r\n        }\r\n\r\n        function onError(data) {\r\n          // 定位出错\r\n          console.log(\"定位失败\", data);\r\n        }\r\n      });\r\n    }\r\n\r\n    function createMap() {\r\n      map.value = new AMap.Map(\"gaodeContainer\", {\r\n        zoom: 10,\r\n      });\r\n\r\n      AMap.plugin(\"AMap.Geolocation\", function () {\r\n        let geolocation = new AMap.Geolocation({\r\n          enableHighAccuracy: true, // 是否使用高精度定位，默认：true\r\n          timeout: 10000, // 设置定位超时时间，默认：无穷大\r\n          zoomToAccuracy: true, //  定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false\r\n          position: \"RB\", //  定位按钮的排放位置,  RB表示右下\r\n        });\r\n\r\n        map.value.addControl(geolocation);\r\n        geolocation.getCurrentPosition(function (\r\n          status,\r\n          result,\r\n        ) {\r\n          if (status == \"complete\") {\r\n            onComplete(result);\r\n          } else {\r\n            onError(result);\r\n          }\r\n        });\r\n\r\n        function onComplete(data) {\r\n          // data是具体的定位信息\r\n          console.log(\"定位成功位置:\", data);\r\n        }\r\n\r\n        function onError(data) {\r\n          // 定位出错\r\n          console.log(\"定位失败\", data);\r\n        }\r\n      });\r\n    }\r\n\r\n    onMounted(() => {\r\n      createMap();\r\n    });\r\n\r\n    onUnmounted(() => {\r\n      map.value.destroy();\r\n      map.value = null;\r\n    });\r\n    return {\r\n      map,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.gaodeMap,\r\n#gaodeContainer {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./gaodeMap.vue?vue&type=template&id=792ff5d8&scoped=true\"\nimport script from \"./gaodeMap.vue?vue&type=script&lang=js\"\nexport * from \"./gaodeMap.vue?vue&type=script&lang=js\"\n\nimport \"./gaodeMap.vue?vue&type=style&index=0&id=792ff5d8&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\91356\\\\Desktop\\\\学习\\\\Li-MLong.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-792ff5d8\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=ce495afc&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=ce495afc&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\91356\\\\Desktop\\\\学习\\\\Li-MLong.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ce495afc\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_1","_createVNode","_component_el_button_group","_component_el_button","onClick","$setup","goHome","_component_el_icon","_component_ArrowLeft","changeMap","disabled","isDisabled","_component_MapLocation","_toDisplayString","currentName","_hoisted_2","_createBlock","_resolveDynamicComponent","id","_createElementBlock","_hoisted_3","name","setup","map","ref","point","sessionStorage","getItem","JSON","parse","lng","lat","getCurrentPosition","isSDK","geolocation","BMapGL","Geolocation","enableSDKLocation","Promise","resolve","reject","r","getStatus","BMAP_STATUS_SUCCESS","Error","async","getLocationPoint","then","console","log","catch","error","setItem","stringify","addMapControl","value","isSupportEarth","setMapType","BMAP_EARTH_MAP","enableScrollWheelZoom","enableKeyboard","setCopyrightOffset","top","scaleCtrl","ScaleControl","addControl","zoomCtrl","ZoomControl","onMounted","Map","enableAutoResize","centerAndZoom","addEventListener","type","target","mk","Marker","addOverlay","panTo","onUnmounted","destroy","__exports__","createMap","AMap","zoom","plugin","enableHighAccuracy","timeout","zoomToAccuracy","position","onComplete","data","onError","status","result","components","MyBaiduMap","MyGaodeMap","router","useRouter","setTimeout","push","render"],"sourceRoot":""}