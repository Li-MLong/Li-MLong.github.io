"use strict";(self["webpackChunkmyresume"]=self["webpackChunkmyresume"]||[]).push([[535],{2983:function(e,o,l){l.r(o),l.d(o,{default:function(){return k}});var s=l(3396),r=l(9242);const n={class:"login"},t=(0,s._)("h3",{class:"title"},"请输入访问密码",-1),a={key:0},i={key:1},u=(0,s._)("div",{class:"el-login-footer"},[(0,s.Uk)(" Copyright © 2022 All Rights Reserved of "),(0,s._)("a",{href:"https://github.com/Li-MLong",target:"_blank"},"Github")],-1);function d(e,o,l,d,m,p){const g=(0,s.up)("el-input"),f=(0,s.up)("el-form-item"),c=(0,s.up)("el-button"),w=(0,s.up)("el-form");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(w,{ref:"formRef",model:d.loginForm,rules:d.loginRules,class:"login-form",onSubmit:o[3]||(o[3]=(0,r.iM)((()=>{}),["prevent"]))},{default:(0,s.w5)((()=>[t,(0,s.Wm)(f,{prop:"password"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{modelValue:d.loginForm.password,"onUpdate:modelValue":o[0]||(o[0]=e=>d.loginForm.password=e),placeholder:"密码为简历手机号",onKeyup:o[1]||(o[1]=(0,r.D2)((e=>d.handleLogin(d.formRef)),["enter"])),"show-password":""},null,8,["modelValue"])])),_:1}),(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{loading:d.loading,size:"default",type:"primary",style:{width:"100%"},onClick:o[2]||(o[2]=(0,r.iM)((e=>d.handleLogin(d.formRef)),["prevent"]))},{default:(0,s.w5)((()=>[d.loading?((0,s.wg)(),(0,s.iD)("span",i,"登 录 中...")):((0,s.wg)(),(0,s.iD)("span",a,"登 录"))])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"]),u])}var m=l(4870),p=l(2483),g=l(7178),f=l(6666),c=l(65),w=l(680),h={name:"Login",setup(){const e=(0,p.tv)(),o=(0,c.oR)(),l=(0,m.iH)(null),s=(0,m.iH)(!1),r=(0,m.qj)({password:""}),n={password:[{required:!0,message:"请输入简历手机号",trigger:"change"}]},t=async l=>{l&&(console.log({NODE_ENV:"production",BASE_URL:"/"}),await l.validate(((l,n)=>{if(!l)return!1;s.value=!0,setTimeout((()=>{r.password==o.state.home.mobileNo?(w.Z.set("token",r.password),(0,g.z8)({message:"成功登录",type:"success"}),e.replace("/")):(0,f.bM)({title:"访问密码错误",message:"访问密码错误,请输入简历手机号",type:"error"}),r.password="",s.value=!1}),500)})))};return{formRef:l,loading:s,loginForm:r,loginRules:n,handleLogin:t}}},v=l(89);const y=(0,v.Z)(h,[["render",d]]);var k=y}}]);
//# sourceMappingURL=login.affede24.js.map