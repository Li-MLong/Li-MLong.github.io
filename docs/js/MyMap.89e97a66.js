"use strict";(self["webpackChunkmyresume"]=self["webpackChunkmyresume"]||[]).push([[232],{1385:function(e,a,n){n.r(a),n.d(a,{default:function(){return D}});var o=n(3396),t=n(7139);const l={class:"btn-group"},u={class:"myMap shadow-box"};function i(e,a,n,i,r,c){const s=(0,o.up)("ArrowLeft"),d=(0,o.up)("el-icon"),p=(0,o.up)("el-button"),v=(0,o.up)("MapLocation"),M=(0,o.up)("el-button-group");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",l,[(0,o.Wm)(M,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,{onClick:i.goHome},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s)])),_:1}),(0,o.Uk)(" 返回首页 ")])),_:1},8,["onClick"]),(0,o.Wm)(p,{onClick:i.changeMap,disabled:i.isDisabled},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(v)])),_:1}),(0,o.Uk)("  点我切换"+(0,t.zw)("MyBaiduMap"==i.currentName?"高德地图":"百度地图"),1)])),_:1},8,["onClick","disabled"])])),_:1})]),(0,o._)("div",u,[((0,o.wg)(),(0,o.j4)((0,o.LL)(i.currentName)))])],64)}n(7658);const r=e=>((0,o.dD)("data-v-0ed98d64"),e=e(),(0,o.Cn)(),e),c={class:"baiduMap"},s=r((()=>(0,o._)("div",{id:"baiduContainer"},null,-1))),d=[s];function p(e,a,n,t,l,u){return(0,o.wg)(),(0,o.iD)("div",c,d)}var v=n(4870),M={name:"MyBaiduMap",setup(){let e=(0,v.iH)(null),a=sessionStorage.getItem("point")?JSON.parse(sessionStorage.getItem("point")):{lng:116.404,lat:39.915};function n(e){let a=new BMapGL.Geolocation;return e&&a.enableSDKLocation(),new Promise(((e,n)=>{a.getCurrentPosition((o=>{a.getStatus()==BMAP_STATUS_SUCCESS?e(o):n(new Error("定位失败"))}))}))}async function t(){await n().then((e=>{console.log("浏览器直接获取定位成功",e),a=e.point})).catch((e=>{console.log("浏览器直接获取定位错误,开始尝试SDK辅助定位"),n(!0).then((e=>{console.log("SDK辅助定位成功",e),a=e.point})).catch((e=>{console.log("SDK辅助定位失败,使用默认位置")}))})),sessionStorage.setItem("point",JSON.stringify(a))}async function l(){e.value.isSupportEarth()&&e.value.setMapType(BMAP_EARTH_MAP),e.value.enableScrollWheelZoom(),e.value.enableKeyboard(),e.value.setCopyrightOffset({top:0});var a=new BMapGL.ScaleControl;e.value.addControl(a);var n=new BMapGL.ZoomControl;e.value.addControl(n)}return(0,o.bv)((async()=>{e.value=new BMapGL.Map("baiduContainer",{enableAutoResize:!0}),await e.value.centerAndZoom(a,15),await l(),e.value.addEventListener("mouseover",(({type:e,target:a})=>{console.log(e,a)})),await t();let n=new BMapGL.Marker(a);await e.value.addOverlay(n),await e.value.panTo(a)})),(0,o.Ah)((()=>{e.value.destroy(),e.value=null})),{map:e}}},m=n(89);const g=(0,m.Z)(M,[["render",p],["__scopeId","data-v-0ed98d64"]]);var f=g;const w=e=>((0,o.dD)("data-v-792ff5d8"),e=e(),(0,o.Cn)(),e),y={class:"gaodeMap"},C=w((()=>(0,o._)("div",{id:"gaodeContainer"},null,-1))),b=[C];function _(e,a,n,t,l,u){return(0,o.wg)(),(0,o.iD)("div",y,b)}var S={name:"MyGaodeMap",setup(){let e=(0,v.iH)(null);function a(){e.value=new AMap.Map("gaodeContainer",{zoom:10}),AMap.plugin("AMap.Geolocation",(function(){let a=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,zoomToAccuracy:!0,position:"RB"});function n(e){console.log("定位成功位置:",e)}function o(e){console.log("定位失败",e)}e.value.addControl(a),a.getCurrentPosition((function(e,a){"complete"==e?n(a):o(a)}))}))}return(0,o.bv)((()=>{a()})),(0,o.Ah)((()=>{e.value.destroy(),e.value=null})),{map:e}}};const h=(0,m.Z)(S,[["render",_],["__scopeId","data-v-792ff5d8"]]);var A=h,B=n(2483),G={name:"myMap",components:{MyBaiduMap:f,MyGaodeMap:A},setup(){let e=(0,B.tv)(),a=(0,v.iH)("MyGaodeMap"),n=(0,v.iH)(!1);function o(){n.value=!0,a.value="MyBaiduMap"===a.value?"MyGaodeMap":"MyBaiduMap",setTimeout((()=>{n.value=!1}),3e3)}function t(){e.push("/")}return{currentName:a,isDisabled:n,changeMap:o,goHome:t}}};const k=(0,m.Z)(G,[["render",i],["__scopeId","data-v-ce495afc"]]);var D=k}}]);
//# sourceMappingURL=MyMap.89e97a66.js.map